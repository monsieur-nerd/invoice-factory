<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <!-- Theme initialization - must be first to prevent flash -->
  <script>
    (function() {
      const savedTheme = localStorage.getItem('monsieurnerd-theme');
      
      // Fonction pour obtenir le th√®me effectif
      function getEffectiveTheme(preference) {
        if (preference === 'auto' || !preference) {
          return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        return preference;
      }
      
      // Appliquer le th√®me imm√©diatement
      const effectiveTheme = getEffectiveTheme(savedTheme);
      document.documentElement.setAttribute('data-theme', effectiveTheme);
    })();
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Param√®tres - Invoice Factory</title>
  <meta name="description" content="Param√®tres de l'application">
  
  <link rel="icon" href="assets/logo-invoice-factory-32.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="assets/logo-invoice-factory.svg">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#15803D">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="css/monsieurnerd-design-system.css?v=6">
  <link rel="stylesheet" href="css/monsieurnerd-components.css?v=6">
  <link rel="stylesheet" href="css/monsieurnerd-app.css?v=6">
</head>
<body>
  <div class="app-root">
    <!-- HEADER -->
    <header class="app-header">
      <div class="app-container">
        <div class="header-inner">
          <a href="index.html" class="header-logo">
            <img src="assets/logo-invoice-factory.svg" alt="Invoice Factory">
            <span class="header-logo-text">Invoice Factory</span>
          </a>
          
          <nav class="header-nav">
            <a href="index.html" class="nav-link">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
              <span data-i18n="navCreate">Cr√©er</span>
            </a>
            <a href="history.html" class="nav-link">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
              <span data-i18n="navHistory">Historique</span>
            </a>
            <a href="settings.html" class="nav-link active">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 0 1 0 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.212 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
              <span data-i18n="navSettings">Param√®tres</span>
            </a>
            <a href="about.html" class="nav-link">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" /></svg>
              <span data-i18n="navAbout">√Ä propos</span>
            </a>
          </nav>
          
          <div class="header-actions">
            <button class="theme-toggle" data-action="toggle-theme" data-i18n-aria-label="themeToggle" aria-label="Changer de th√®me">
              <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" /></svg>
              <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" /></svg>
            </button>
            
            <div class="dropdown lang-selector">
              <button class="lang-selector-btn" data-dropdown-toggle="lang-menu" aria-expanded="false">
                <img src="assets/icons/flag-fr.svg" alt="" class="lang-flag" id="current-lang-flag">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" style="width:1rem;height:1rem;"><path stroke-linecap="round" stroke-linejoin="round" d="m19 9-7 7-7-7" /></svg>
              </button>
              <div class="dropdown-menu" id="lang-menu">
                <div class="dropdown-item" data-action="set-lang" data-lang="fr">
                  <img src="assets/icons/flag-fr.svg" alt="" class="lang-flag">
                  <span data-i18n="langFr">Fran√ßais</span>
                </div>
                <div class="dropdown-item" data-action="set-lang" data-lang="nl">
                  <img src="assets/icons/flag-nl.svg" alt="" class="lang-flag">
                  <span data-i18n="langNl">Nederlands</span>
                </div>
                <div class="dropdown-item" data-action="set-lang" data-lang="de">
                  <img src="assets/icons/flag-de.svg" alt="" class="lang-flag">
                  <span data-i18n="langDe">Deutsch</span>
                </div>
                <div class="dropdown-item" data-action="set-lang" data-lang="en">
                  <img src="assets/icons/flag-en.svg" alt="" class="lang-flag">
                  <span data-i18n="langEn">English</span>
                </div>
              </div>
            </div>
            
            <button class="mobile-menu-toggle" data-action="toggle-mobile-menu" aria-label="Menu" aria-expanded="false">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
            </button>
          </div>
        </div>
      </div>
    </header>
    
    <div class="mobile-menu" id="mobile-menu">
      <nav class="mobile-nav">
        <a href="index.html" class="nav-link" data-i18n="navCreate">Cr√©er</a>
        <a href="history.html" class="nav-link" data-i18n="navHistory">Historique</a>
        <a href="settings.html" class="nav-link active" data-i18n="navSettings">Param√®tres</a>
        <a href="about.html" class="nav-link" data-i18n="navAbout">√Ä propos</a>
      </nav>
    </div>

    <!-- MAIN CONTENT -->
    <main class="app-main">
      <!-- PAGE HEADER -->
      <div class="page-header">
        <div class="app-container">
          <h1 class="page-title" data-i18n="settingsTitle">Param√®tres</h1>
          <p class="page-description" data-i18n="settingsDesc">Personnalisez votre exp√©rience et configurez les options de g√©n√©ration.</p>
        </div>
      </div>

      <!-- SETTINGS GRID -->
      <div class="app-container">
        <div class="settings-grid">
          <!-- Settings Navigation -->
          <nav class="settings-nav">
            <ul class="settings-nav-list">
              <li class="settings-nav-item active" data-settings-tab="general">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" /></svg>
                <span data-i18n="settingsTabGeneral">G√©n√©ral</span>
              </li>
              <li class="settings-nav-item" data-settings-tab="invoice">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                <span data-i18n="settingsTabInvoice">Facture</span>
              </li>

            </ul>
          </nav>

          <!-- Settings Content -->
          <div class="settings-content">
            <!-- General Settings -->
            <div class="settings-card" id="settings-general">
              <h2 class="settings-card-title" data-i18n="settingsCardGeneralTitle">Param√®tres g√©n√©raux</h2>
              <p class="settings-card-description" data-i18n="settingsCardGeneralDesc">Configurez les pr√©f√©rences de l'interface et de l'exp√©rience utilisateur.</p>
              
              <div class="form-group">
                <label class="form-label" data-i18n="settingsDefaultLang">Langue par d√©faut</label>
                <select class="form-select" id="default-language">
                  <option value="fr" selected>üá´üá∑ Fran√ßais</option>
                  <option value="nl">üá≥üá± N√©erlandais</option>
                  <option value="de">üá©üá™ Allemand</option>
                  <option value="en">üá¨üáß Anglais</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" data-i18n="settingsTheme">Th√®me</label>
                <div class="tabs">
                  <button class="tab active" data-theme-value="light" data-i18n="settingsThemeLight">Clair</button>
                  <button class="tab" data-theme-value="dark" data-i18n="settingsThemeDark">Sombre</button>
                  <button class="tab" data-theme-value="auto" data-i18n="settingsThemeAuto">Auto</button>
                </div>
              </div>

              <div class="form-group">
                <label class="form-checkbox">
                  <input type="checkbox" id="auto-save" checked>
                  <span data-i18n="settingsAutoSave">Sauvegarder automatiquement les factures dans l'historique</span>
                </label>
              </div>

              <div class="card-footer" style="margin-top: var(--space-6); padding: 0;">
                <button class="btn btn-primary" onclick="app.saveSettings()" data-i18n="settingsSaveBtn">Sauvegarder</button>
              </div>
            </div>

            <!-- Invoice Settings -->
            <div class="settings-card hidden" id="settings-invoice">
              <h2 class="settings-card-title" data-i18n="settingsCardInvoiceTitle">Param√®tres des factures</h2>
              <p class="settings-card-description" data-i18n="settingsCardInvoiceDesc">Personnalisez les options par d√©faut pour la g√©n√©ration des factures.</p>
              
              <div class="form-group">
                <label class="form-label" data-i18n="settingsCurrency">Devise par d√©faut</label>
                <select class="form-select" id="default-currency">
                  <option value="EUR" selected>Euro (‚Ç¨)</option>
                  <option value="USD">Dollar ($)</option>
                  <option value="GBP">Livre (¬£)</option>
                  <option value="CHF">Franc suisse (CHF)</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" data-i18n="settingsVat">TVA par d√©faut (%)</label>
                <input type="number" class="form-input" id="default-vat" value="21" min="0" max="100">
              </div>

              <div class="form-group">
                <label class="form-label" data-i18n="settingsDateFormat">Format de date</label>
                <select class="form-select" id="date-format">
                  <option value="DD/MM/YYYY" selected>JJ/MM/AAAA</option>
                  <option value="MM/DD/YYYY">MM/JJ/AAAA</option>
                  <option value="YYYY-MM-DD">AAAA-MM-JJ</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" data-i18n="settingsInvoiceLang">Langue de la facture</label>
                <select class="form-select" id="invoice-language">
                  <option value="fr" selected>üá´üá∑ FR - Fran√ßais</option>
                  <option value="nl">üá≥üá± NL - Nederlands</option>
                  <option value="de">üá©üá™ DE - Deutsch</option>
                  <option value="en">üá¨üáß EN - English</option>
                </select>
                <p class="form-hint" data-i18n="settingsInvoiceLangHint">Langue par d√©faut pour les factures g√©n√©r√©es</p>
              </div>

              <div class="card-footer" style="margin-top: var(--space-6); padding: 0;">
                <button class="btn btn-primary" onclick="app.saveSettings()" data-i18n="settingsSaveBtn">Sauvegarder</button>
              </div>
            </div>


          </div>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="app-footer">
      <div class="app-container">
        <div class="footer-content">
          <div class="footer-links" style="margin-bottom: var(--space-4);">
            <a href="about.html" data-i18n="footerAbout">√Ä propos</a>
            <span style="color: var(--color-text-tertiary);">‚Ä¢</span>
            <a href="privacy.html" data-i18n="footerPrivacy">Confidentialit√©</a>
            <span style="color: var(--color-text-tertiary);">‚Ä¢</span>
            <a href="LICENSE" target="_blank" data-i18n="footerLicense">Licence</a>
          </div>
          <div class="footer-creator">
            <p class="footer-creator-text"><span data-i18n="footerMadeWith">Con√ßu avec</span> <span class="footer-creator-heart">‚ù§Ô∏è</span> <span data-i18n="footerBy">par</span></p>
            <img src="assets/icons/Logo-Mr-Nerd-black.png" alt="Monsieur Nerd" class="footer-creator-logo">
          </div>
          <p class="footer-copyright">¬© <script>document.write(new Date().getFullYear())</script> | v1.0</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- SCRIPTS -->
  <script src="js/monsieurnerdApp.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/app.js"></script>
  <script src="js/pwa.js"></script>
</body>
</html>
